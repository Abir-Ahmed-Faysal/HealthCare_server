model Schedule {
    id        String   @id @default(uuid(7))
    startDate DateTime
    endDate   DateTime
    startTime DateTime
    endTime   DateTime
    createAt  DateTime @default(now())
    updatedAt DateTime @updatedAt

    doctorSchedules DoctorSchedule[]
    appointments Appointment[]

    @@map("schedules")
}

model DoctorSchedule {
    scheduleId       String
    schedule         Schedule      @relation(fields: [scheduleId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    doctorId         String
    doctor           Doctor        @relation(fields: [doctorId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    isBooked         Boolean
    createdAt        DateTime @default(now())
    updatedAt        DateTime @updatedAt
  

    @@id([doctorId, scheduleId])
    @@index([doctorId])
    @@index([scheduleId])
    
    @@map("doctor schedules")
}
